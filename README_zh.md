# JPool

JPool 是一个简单、轻量级且易于使用的 Java 工作线程池实现。

## 特性

- **任务队列**：JPool 使用 `BlockingQueue` 来存储待处理的任务。这个队列是线程安全的，允许多个工作线程并发地获取任务。

- **工作线程池**：JPool 维护一个工作线程池。每个工作线程可以从任务队列中获取任务并执行。在创建 JPool 时可以配置工作线程池的大小。

- **任务提交**：可以使用 `submit` 方法向 JPool 提交任务。如果 JPool 已经关闭，将会抛出 `IllegalStateException`。

- **优雅关闭**：JPool 提供了一个 `shutdown` 方法来优雅地关闭工作线程池。这个方法会等待所有工作线程完成当前的任务后再返回。

- **任务监控**：JPool 提供了几个方法来监控任务的状态：
  - `getCompletedTasks`：返回所有工作线程完成的任务总数。
  - `getWaitingTasks`：返回队列中等待的任务数量。
  - `getRunningTasks`：返回当前正在由工作线程运行的任务数量。

## 使用方法

要使用 JPool，首先创建一个新的 `JPool` 实例，并设置所需的工作线程数量。然后，使用 `submit` 方法向线程池提交任务。当所有任务完成后，调用 `shutdown` 方法优雅地关闭工作线程池。

下面是一个简单的示例：

```java
// 创建一个包含 4 个工作线程的 JPool
JPool pool = new JPool(4);

// 向线程池提交任务
for (int i = 0; i < 10; i++) {
    pool.submit(() -> {
        // 这是要执行的任务
        System.out.println("任务由 " + Thread.currentThread().getName() + " 执行");
    });
}

// 优雅地关闭线程池
pool.shutdown();
```

在这个示例中，我们创建了一个包含 4 个工作线程的新 JPool。然后我们向线程池提交了 10 个任务。每个任务只是简单地向控制台打印一条消息。最后，我们调用 shutdown 方法等待所有任务完成并关闭线程池。

##性能
JPool 设计为轻量级且高效。然而，性能可能会根据任务的性质和可用的硬件资源而变化。建议根据具体的使用场景调整工作线程池的大小和任务队列的类型。

##许可证
JPool 是在 MIT 许可证 下开源的软件。
